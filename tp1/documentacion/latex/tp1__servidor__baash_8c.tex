\hypertarget{tp1__servidor__baash_8c}{}\section{tp1/tp1\+\_\+servidor\+\_\+baash/tp1\+\_\+servidor\+\_\+baash.c File Reference}
\label{tp1__servidor__baash_8c}\index{tp1/tp1\+\_\+servidor\+\_\+baash/tp1\+\_\+servidor\+\_\+baash.\+c@{tp1/tp1\+\_\+servidor\+\_\+baash/tp1\+\_\+servidor\+\_\+baash.\+c}}
{\ttfamily \#include $<$unistd.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$sys/types.\+h$>$}\\*
{\ttfamily \#include $<$sys/socket.\+h$>$}\\*
{\ttfamily \#include $<$netinet/in.\+h$>$}\\*
{\ttfamily \#include \char`\"{}baash.\+h\char`\"{}}\\*
Include dependency graph for tp1\+\_\+servidor\+\_\+baash.\+c\+:
% FIG 0
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{tp1__servidor__baash_8c_ae0b4816fb45161ef9da5e6d6134ee28a}{T\+AM}~256
\begin{DoxyCompactList}\small\item\em Tama침o de los buffer para sockets. \end{DoxyCompactList}\item 
\#define \hyperlink{tp1__servidor__baash_8c_ab1ae7d4138be559015777248177317ff}{cantida\+\_\+intentos}~4
\begin{DoxyCompactList}\small\item\em Cantidad de intentos para fallar el logueo. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{tp1__servidor__baash_8c_aa327086979e002387089201750a5b84f}{autenticar} (int newsockfd)
\item 
int \hyperlink{tp1__servidor__baash_8c_a0ddf1224851353fc92bfbff6f499fa97}{main} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{tp1\+\_\+servidor\+\_\+baash.\+c@{tp1\+\_\+servidor\+\_\+baash.\+c}!cantida\+\_\+intentos@{cantida\+\_\+intentos}}
\index{cantida\+\_\+intentos@{cantida\+\_\+intentos}!tp1\+\_\+servidor\+\_\+baash.\+c@{tp1\+\_\+servidor\+\_\+baash.\+c}}
\subsubsection[{\texorpdfstring{cantida\+\_\+intentos}{cantida_intentos}}]{\setlength{\rightskip}{0pt plus 5cm}\#define cantida\+\_\+intentos~4}\hypertarget{tp1__servidor__baash_8c_ab1ae7d4138be559015777248177317ff}{}\label{tp1__servidor__baash_8c_ab1ae7d4138be559015777248177317ff}


Cantidad de intentos para fallar el logueo. 

\index{tp1\+\_\+servidor\+\_\+baash.\+c@{tp1\+\_\+servidor\+\_\+baash.\+c}!T\+AM@{T\+AM}}
\index{T\+AM@{T\+AM}!tp1\+\_\+servidor\+\_\+baash.\+c@{tp1\+\_\+servidor\+\_\+baash.\+c}}
\subsubsection[{\texorpdfstring{T\+AM}{TAM}}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+AM~256}\hypertarget{tp1__servidor__baash_8c_ae0b4816fb45161ef9da5e6d6134ee28a}{}\label{tp1__servidor__baash_8c_ae0b4816fb45161ef9da5e6d6134ee28a}


Tama침o de los buffer para sockets. 



\subsection{Function Documentation}
\index{tp1\+\_\+servidor\+\_\+baash.\+c@{tp1\+\_\+servidor\+\_\+baash.\+c}!autenticar@{autenticar}}
\index{autenticar@{autenticar}!tp1\+\_\+servidor\+\_\+baash.\+c@{tp1\+\_\+servidor\+\_\+baash.\+c}}
\subsubsection[{\texorpdfstring{autenticar(int newsockfd)}{autenticar(int newsockfd)}}]{\setlength{\rightskip}{0pt plus 5cm}int autenticar (
\begin{DoxyParamCaption}
\item[{int}]{newsockfd}
\end{DoxyParamCaption}
)}\hypertarget{tp1__servidor__baash_8c_aa327086979e002387089201750a5b84f}{}\label{tp1__servidor__baash_8c_aa327086979e002387089201750a5b84f}

\begin{DoxyParams}{Parameters}
{\em newsockfd} & es el file descriptor utilizado para realizar la comunicaciones T\+CP. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Devuelve 1 si la clave fue correcta 0 si no lo fue.
\end{DoxyReturn}
\begin{DoxyParagraph}{Funci칩n autenticacion.}
Se utiliza un archivo usuarios.\+csv inicialmente pre cargado (si no la aplicacion no va a poder funcionar) con nomebres de usuarios y las correspondientes claves. Se espera en mensaje por parte del cliente para realizar las comparaciones con los datos del archivo. En total el cliente tiene 4 intentos de ingresar la clave de forma incorrecta en caso que no lo logre en niguno de esos intentos se avisa al cliente y se retorna 0. En caso de una conicidencia exitosa se le avisa al usuario y retorna 1. 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Variable intentos\+:}
Numero de oportunidades que tiene el usuario para intentar ingresar mal la clave.
\end{DoxyParagraph}
Se lee el archivo usuarios.\+csv el cual es una tabla usuario/clave

Espera usuario/clave por parte del cliente

Comienza a comparar el dato recibido con todos los datos en la tabla usuarios.\+csv

Si los datos coinciden se avisa a destino que la secion pudo iniciar con exito y se retorna 1.

En caso de que no coincidan se avisa a destino que la clave o usuario no son correctos

Se resta 1 a intentos y vuelve a empezar

Si intentos llego a 0 quiere decir que se supero la cantidad de intentos, por lo tanto se le avisa al cliente \index{tp1\+\_\+servidor\+\_\+baash.\+c@{tp1\+\_\+servidor\+\_\+baash.\+c}!main@{main}}
\index{main@{main}!tp1\+\_\+servidor\+\_\+baash.\+c@{tp1\+\_\+servidor\+\_\+baash.\+c}}
\subsubsection[{\texorpdfstring{main(int argc, char $\ast$argv[])}{main(int argc, char *argv[])}}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}\hypertarget{tp1__servidor__baash_8c_a0ddf1224851353fc92bfbff6f499fa97}{}\label{tp1__servidor__baash_8c_a0ddf1224851353fc92bfbff6f499fa97}
\begin{DoxyParagraph}{Se realiza la autenticacion. Espera la contrase침a por parte del usuario. Solo tiene cuatro intentos. }

\end{DoxyParagraph}
Se llama a las funcion baash pasandole como parametros el newsockfd y clilen para que pueda usar los socket T\+PC y U\+DP respectivamente 